# TradingAgents 使用指南

## 🚀 快速开始

### 1. 环境设置

首先运行环境设置脚本：
```bash
./setup_env.sh
```

这将帮助您设置必要的API密钥：
- **FinnHub API**: 用于获取财务数据（免费）
- **OpenAI API**: 用于LLM代理

### 2. 获取API密钥

#### FinnHub API (免费)
1. 访问 https://finnhub.io/
2. 注册免费账户
3. 在仪表板中获取API密钥

#### OpenAI API
1. 访问 https://platform.openai.com/
2. 注册账户并添加支付方式
3. 在API密钥页面创建新密钥

### 3. 使用方法

#### 方法一：CLI界面（推荐）
```bash
python -m cli.main
```
这将启动一个交互式界面，您可以：
- 选择股票代码（如：NVDA, AAPL, TSLA）
- 选择分析日期
- 选择LLM模型
- 设置研究深度
- 实时查看分析进度

#### 方法二：直接运行
```bash
python main.py
```
这将使用默认配置分析NVDA股票。

#### 方法三：编程方式
```python
from tradingagents.graph.trading_graph import TradingAgentsGraph
from tradingagents.default_config import DEFAULT_CONFIG

# 创建自定义配置
config = DEFAULT_CONFIG.copy()
config["deep_think_llm"] = "gpt-4o-mini"  # 使用不同的模型
config["quick_think_llm"] = "gpt-4o-mini"
config["max_debate_rounds"] = 1  # 辩论轮数
config["online_tools"] = True  # 使用在线工具

# 初始化
ta = TradingAgentsGraph(debug=True, config=config)

# 运行分析
_, decision = ta.propagate("NVDA", "2024-05-10")
print(decision)
```

## 🏗️ 框架架构

### 分析师团队
- **基本面分析师**: 评估公司财务状况
- **情绪分析师**: 分析社交媒体情绪
- **新闻分析师**: 监控全球新闻
- **技术分析师**: 使用技术指标分析

### 研究团队
- **看涨研究员**: 寻找买入机会
- **看跌研究员**: 识别风险因素
- **研究经理**: 协调研究过程

### 交易团队
- **交易员**: 制定交易策略
- **风险管理团队**: 评估风险
- **投资组合经理**: 最终决策

## ⚙️ 配置选项

在 `tradingagents/default_config.py` 中可以调整：

```python
DEFAULT_CONFIG = {
    "llm_provider": "openai",  # LLM提供商
    "deep_think_llm": "o4-mini",  # 深度思考模型
    "quick_think_llm": "gpt-4o-mini",  # 快速思考模型
    "max_debate_rounds": 1,  # 辩论轮数
    "max_risk_discuss_rounds": 1,  # 风险讨论轮数
    "online_tools": True,  # 是否使用在线工具
}
```

## 💡 使用建议

### 成本优化
- 使用 `gpt-4o-mini` 或 `o4-mini` 模型以节省成本
- 减少辩论轮数（`max_debate_rounds`）
- 启用 `online_tools` 获取实时数据

### 性能优化
- 使用更强大的模型获得更好的分析结果
- 增加辩论轮数获得更深入的讨论
- 根据市场情况调整分析日期

## 🔍 输出示例

框架会输出详细的交易决策，包括：
- 分析师报告
- 研究团队建议
- 交易策略
- 风险管理评估
- 最终投资组合决策

## ⚠️ 重要提醒

1. **仅用于研究**: 本框架仅供研究使用，不构成投资建议
2. **API成本**: 大量API调用可能产生费用，请注意监控
3. **数据质量**: 结果取决于数据质量和模型选择
4. **风险提示**: 交易有风险，投资需谨慎

## 🆘 常见问题

### Q: 如何获取免费的FinnHub API密钥？
A: 访问 https://finnhub.io/ 注册免费账户即可。

### Q: 如何降低API调用成本？
A: 使用较小的模型，减少辩论轮数，合理设置分析频率。

### Q: 支持哪些股票？
A: 支持全球主要交易所的股票，如美股、港股等。

### Q: 如何自定义分析逻辑？
A: 可以修改 `tradingagents/agents/` 目录下的代理代码。

## 📞 获取帮助

- GitHub: https://github.com/TauricResearch/TradingAgents
- 论文: https://arxiv.org/abs/2412.20138
- 社区: https://discord.com/invite/hk9PGKShPK 